doctype html
html(lang='en', dir='ltr')
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    title TechTarget
    //if lte IE 7
      script(src='http://cdn.ttgtmedia.com/microsites/ttgtShell/js/libs/icomoon_ie7.js')
    script(type='text/javascript', src='//fast.fonts.net/jsapi/124d48dd-e515-4302-8bfb-1d5c1e3da916.js')
    link(rel='stylesheet', href='http://cdn.ttgtmedia.com/microsites/ttgtShell/css/libs/normalize.css')
    link(rel='stylesheet', href='http://cdn.ttgtmedia.com/microsites/ttgtShell/css/libs/icomoon.css')
    link(rel='stylesheet', href='http://cdn.ttgtmedia.com/microsites/ttgtShell/css/libs/jquery.jscrollpane.css')
    link(rel='stylesheet', href='http://cdn.ttgtmedia.com/microsites/ttgtShell/css/libs/jquery-ui-1.10.3.custom.min.css')
    link(rel='stylesheet', href='http://cdn.ttgtmedia.com/microsites/ttgtShell/css/libs/responsive-carousel.css')
    link(rel='stylesheet', href='http://cdn.ttgtmedia.com/microsites/ttgtShell/css/libs/responsive-carousel.slide.css')
    link(rel='stylesheet', href='//media.eng.ttgtmedia.com/rms/ux/responsive/css/main.css?v=6.32-SNAPSHOT')
    //if lte IE 7
      link(rel='stylesheet', href='http://cdn.ttgtmedia.com/microsites/ttgtShell/css/ie7.css')
    //if IE 8
      link(rel='stylesheet', href='http://cdn.ttgtmedia.com/microsites/ttgtShell/css/ie8.css')
    script(src='http://cdn.ttgtmedia.com/microsites/ttgtShell/js/libs/respond.min.js', type='text/javascript')
    script(type='text/javascript', src='http://cdn.ttgtmedia.com/microsites/ttgtShell/js/libs/modernizr.custom.50545.js')
    script(src='http://cdn.ttgtmedia.com/microsites/ttgtShell/js/libs/jquery-1.10.1.min.js')
    link(rel='shortcut icon', type='image/x-icon', href='/favicon.ico')
    link(rel='apple-touch-icon', sizes='144×144', href='/apple-touch-icon-144x144.png')
    link(rel='apple-touch-icon', sizes='114×114', href='/apple-touch-icon-114x114.png')
    link(rel='apple-touch-icon', sizes='72×72', href='/apple-touch-icon-72x72.png')
    link(rel='apple-touch-icon', href='/apple-touch-icon-precomposed.png')
    link(rel='apple-touch-icon-precomposed', sizes='144×144', href='/apple-touch-icon-144x144-precomposed.png')
    link(rel='apple-touch-icon-precomposed', sizes='114×114', href='/apple-touch-icon-114x114-precomposed.png')
    link(rel='apple-touch-icon-precomposed', sizes='72×72', href='/apple-touch-icon-72x72-precomposed.png')
    link(rel='apple-touch-icon-precomposed', href='/apple-touch-icon-precomposed.png')
    link(rel='stylesheet', href='css/style-responsive.css', type='text/css', media='screen')
    link(id="sheet1", rel='stylesheet', href='php/css.php', type='text/css', media='screen')
    script(src='//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js')
    // Begin Google Tag Manager
    noscript
      iframe(src='//www.googletagmanager.com/ns.html?id=GTM-PWWZSH', height='0', width='0', style='display:none;visibility:hidden')
    script.
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PWWZSH');
    noscript
      iframe(src='//www.googletagmanager.com/ns.html?id=GTM-5CSF7N', height='0', width='0', style='display:none;visibility:hidden')
    script.
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5CSF7N');
    // End Google Tag Manager
    script(src='javascript/jgestures.min.js')
    script(src='javascript/script-responsive.js')
    script(src='javascript/video.js')
    script(src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js")
    script(type="text/javascript" src="javascript/jspdf.min.js")
    script(type="text/javascript" src="javascript/html2canvas.js")
    link(rel="stylesheet", type="text/css", href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css")

body
    #editWindow
      div.demo-header
        img(src="http://cdn.ttgtmedia.com/rms/ux/responsive/img/nav_logo@2x.png" alt="TechTarget")
        p.demo-header-title Templated Sites Demo
      div.demo-site-nav.hideNav
        ul.demo-site-nav-list
          li.demo-site-nav-list-item(data-id='1').selected Article
          li.demo-site-nav-list-item(data-id='2') Embedded - Center
          li.demo-site-nav-list-item(data-id='3') Embedded - Dark
          li.demo-site-nav-list-item(data-id='4') Embedded - Light
          li.demo-site-nav-list-item(data-id='5') Native Advertising
        i.icon.icon-arrow-down(data-icon='5')
      div.demo-settings
        //- p.demo-settings-title Settings
        p Change Site Title
          input#changeTitle(placeholder="Change Site Title" value="Productivity and Collaboration")
          a.clear-input
            i.icon-close
        p Select Number of Clients
          select#clientChoice
            option(value="A", selected="selected") Single Client
            option(value="B") Two Clients
        p Select Layout
          select#layoutChoice
            option(value="A", selected="selected") A: Additional Downloads
            option(value="B") B: Latest Resources
        .c1
          label(for="html5colorpicker-color1") Pick Color 1
          input.c1(name="html5colorpicker-color1" type="color", id="html5colorpicker-color1", style="width:100%;")
          span.colorText1
        .c2
          label(for="html5colorpicker-color2") Pick Color 2
          input.c2(name="html5colorpicker-color2" type="color", id="html5colorpicker-color2", style="width:100%;")
          span.colorText2
      div.demo-footer
        a(title="Email These Settings").demo-footer-button.demo-button-email Email
        button(title="Download PDF").demo-footer-button.demo-button-pdf(onclick="javascript:generatePDF();") PDF
        button(title="Reset Settings").demo-footer-button.demo-button-reset.reset Reset
        .pull(title="Close")
          p
    script(contenteditable).
      $('.pull').on('click', function() {
        $('#editWindow').toggleClass('open');
      });
      $(".c1").spectrum({
          allowEmpty:true,
          color: "#03a9f4",
          showInput: true,
          containerClassName: "full-spectrum",
          showInitial: true,
          showPalette: true,
          showSelectionPalette: true,
          //- showAlpha: true,
          maxPaletteSize: 10,
          preferredFormat: "hex",
          localStorageKey: "spectrum.demo"
      });
      $(".c2").spectrum({
          allowEmpty:true,
          color: "#ff9800",
          showInput: true,
          containerClassName: "full-spectrum",
          showInitial: true,
          showPalette: true,
          showSelectionPalette: true,
          //- showAlpha: true,
          maxPaletteSize: 10,
          preferredFormat: "hex",
          localStorageKey: "spectrum.demo"
      });
      
      var colorValue1 = $(".c1").spectrum("get");
      var colorValue2 = $(".c2").spectrum("get");
      
      $('span.colorText1').text(colorValue1);
      $('span.colorText2').text(colorValue2);
      
      $('#changeTitle').on('input',function() {
        $('.siteTitle').text($(this).val());
        if ($(this).val() == '') {
          $('.siteTitle').text('Productivity and Collaboration');  
        }
      });
      $('#layoutChoice').on('change', function() {
        if ($('#layoutChoice option:selected').val() == 'A') {
          $('#homepage #additionalResources').css('display','none');
          $('#homepage #additionalDownloads, #resources').css('display','block');
        } else {
          $('#homepage #additionalDownloads, #resources').css('display','none');
          $('#homepage #additionalResources').css('display','block');
        }
      });

    script(generatePDF).
      function generatePDF() {
        $('#editWindow').hide();
        $('#micrositeWrapper').css('left','0');
        $('#articleHeader').css('left', '0');
        $('#articleNavigationContainer').css('left', '0');
        html2canvas($("body"), {
          onrendered: function (canvas) {
            var imgData = canvas.toDataURL('image/jpg');
            var imgWidth = 210;
            var pageHeight = 295;
            var imgHeight = canvas.height * imgWidth / canvas.width;
            var heightLeft = imgHeight;

            var doc = new jsPDF('p', 'mm');
            var position = 0;

            doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
            heightLeft -= pageHeight;

            while (heightLeft >= 0) {
              position = heightLeft - imgHeight;
              doc.addPage();
              doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
              heightLeft -= pageHeight;
            }
            doc.save('TechTarget-StandAloneSite.pdf')
            $('#editWindow').show();
          }
        });
      }
    #micrositeWrapper
      include pageSections/header
      include pageSections/navigation
      include pageSections/homeContent
      include pageSections/resourcesSection
      #videoModal
        #videoModalPlayerContainer
      include pageSections/footer
    script(src="javascript/jquery.menu-aim.js")
    script(src="//players.brightcove.net/1660622130/SJJxTCbc_default/index.min.js")
    script(src="http://cdn.ttgtmedia.com/rms/ux/javascript/microsite/videojs.ga.videocloud.js")
