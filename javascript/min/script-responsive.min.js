$(document).ready(function(){function e(e,o){colorsObj[e]=o,tempTxt="php/css.php?"+$.param(colorsObj),$("#sheet1").attr("href",tempTxt)}function o(){var e=$(window).outerHeight(),o=$(".demo-header").outerHeight(),t=$(".demo-footer").outerHeight(),i=e-o-t;$("#editWindow").css("height",e),$(".demo-settings").css("height",i)}function t(){var e=$("#editWindow"),o=$("#micrositeWrapper");e.hasClass("open")?o.addClass("editWindowOpen"):o.removeClass("editWindowOpen")}function a(e){return window.open(e||"","popupWindow","width=600,height=600")}function n(e){e.preventDefault(),a($(this).attr("href"))}function s(e){"video-1"!=e.target.id&&($(e.target).closest("#video-1").length||$(e.target).closest("#videoModalPlaylistContainer").length||$(e.target).closest("#videoModalPlaylistInfoContainer").length||(videojs("#video-1").pause(),$("#videoModal").removeClass("showModal"),$("body").removeClass("noScroll"),videojs("#video-1").dispose(),$("#video-1").remove(),$("ol.vjs-playlist").unwrap().unwrap().children().remove(),$(".bx-controls").remove(),$("#videoModalPlaylistInfoContainer p span").text(""),posterArray=[]))}function l(){F.hasClass("socialMenuOpen")?setTimeout(function(){F.toggleClass("topicsMenuOpen"),$(".hamburger").addClass("is-active")},500):(F.toggleClass("topicsMenuOpen"),$(".hamburger").toggleClass("is-active")),F.removeClass("socialMenuOpen")}function r(){F.hasClass("topicsMenuOpen")?setTimeout(function(){F.toggleClass("socialMenuOpen")},500):(F.toggleClass("socialMenuOpen"),$(".hamburger").removeClass("is-active")),$(".hamburger").removeClass("is-active"),F.removeClass("topicsMenuOpen")}function c(){$("#articleNavigation").toggleClass("showMainNav")}function d(){$("#articleResourcesNav").toggleClass("showReourcesNav")}function h(){$(window).width()>640&&$("body").hasClass("menuOpen")&&($("body").removeClass("menuOpen"),$("#articleMenusCompress").removeClass("show"))}function u(){var e=$(this).scrollTop();Math.abs(Y-e)<=Z||(e>Y&&e>eo?$("#articleSponsorContainer").removeClass("nav-down").addClass("nav-up"):e+$(window).height()<$(document).height()&&$("#articleSponsorContainer").removeClass("nav-up").addClass("nav-down"),Y=e)}function p(){function e(e){var o=$(e),t=o.data("submenuId"),i=$("#"+t);i.css({display:"block"}),o.find("> a").addClass("maintainHover")}function o(e){var o=$(e),t=o.data("submenuId"),i=$("#"+t);i.css("display","none"),o.find("> a").removeClass("maintainHover")}var t=$(".collapseMain #articleMainNav");$(window).width()>=960?t.menuAim({activate:e,deactivate:o}):t.menuAim({activate:o})}function m(){$(".articleListing ul").addClass("viewAll").css("margin-bottom","40px"),$(this).remove()}function g(){$(this).siblings("ul").addClass("viewAll").css("margin-bottom","40px"),$(this).remove()}function v(){$(this).siblings("ul").addClass("viewAll").css("margin-bottom","40px"),$(this).remove()}function f(){$("#downloadResources .listContainer").each(function(){$(window).width()<640?$(".additionalDownloads li",this).length<3?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"):$(window).width()<960?$(".additionalDownloads li",this).length<7?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"):$(window).width()>=960&&($(".additionalDownloads li",this).length<12?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"))})}function w(){$("#articleResources .listContainer").each(function(){$(window).width()<640?$("ul li",this).length<3?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"):$(window).width()<960?$("ul li",this).length<5?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"):$(window).width()>=960&&($("ul li",this).length<6?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"))})}function C(){$(window).width()<640?$("#topicBodyContent .articleListing ul li").length<=3?$("#topicBodyContent .articleListing").find(".loadMore").hide():$("#topicBodyContent .articleListing").find(".loadMore").css("display","block"):$(window).width()<960?$("#topicBodyContent .articleListing ul li").length<=6?$("#topicBodyContent .articleListing").find(".loadMore").hide():$("#topicBodyContent .articleListing").find(".loadMore").css("display","block"):$(window).width()>=960&&($("#topicBodyContent .articleListing ul li").length<=6?$("#topicBodyContent .articleListing").find(".loadMore").hide():$("#topicBodyContent .articleListing").find(".loadMore").css("display","block"))}if(colorsObj=new Object,$("input[type=color]").change(function(){colorKey=$(this).attr("class"),colorValue=$(this).val().replace("#",""),e(colorKey,colorValue);var o=$("#sheet1").attr("href");localStorage.setItem("css",o);var t=$(".c1").spectrum("get"),i=$(".c2").spectrum("get");$(".colorText1").text(t),$(".colorText2").text(i)}),$("#changeTitle").on("input",function(){$(".siteTitle").text($(this).val()),""==$(this).val()&&$(".siteTitle").text("Productivity and Collaboration"),localStorage.setItem("title",$(this).val())}),$("#layoutChoice").on("change",function(){"A"==$("#layoutChoice option:selected").val()?($("#homepage #additionalResources").css("display","none"),$("#homepage #additionalDownloads, #resources").css("display","block"),localStorage.setItem("layout","A")):($("#homepage #additionalDownloads, #resources").css("display","none"),$("#homepage #additionalResources").css("display","block"),localStorage.setItem("layout","B"))}),$("#clientChoice").on("change",function(){"A"==$("#clientChoice option:selected").val()?($("#articleHeader #articleSponsorContainer ul.twoClients").css("display","none"),$("#articleHeader #articleSponsorContainer ul.oneClient").css("display","block"),$("footer .footerLeft .sponsorLogos li:nth-child(2)").css("display","none"),localStorage.setItem("client","A")):($("#articleHeader #articleSponsorContainer ul.twoClients").css("display","block"),$("#articleHeader #articleSponsorContainer ul.oneClient").css("display","none"),$("footer .footerLeft .sponsorLogos li:nth-child(2)").css("display","block"),localStorage.setItem("client","B"))}),null!=localStorage.getItem("client")&&("A"==localStorage.getItem("client")?($("#articleHeader #articleSponsorContainer ul.twoClients").css("display","none"),$("#articleHeader #articleSponsorContainer ul.oneClient").css("display","block"),$("footer .footerLeft .sponsorLogos li").eq(1).css("display","none"),$("#clientChoice option").eq(0).prop("selected",!0)):($("#articleHeader #articleSponsorContainer ul.twoClients").css("display","block"),$("#articleHeader #articleSponsorContainer ul.oneClient").css("display","none"),$("footer .footerLeft .sponsorLogos li").eq(1).css("display","block"),$("#clientChoice option").eq(1).prop("selected",!0))),null!=localStorage.getItem("layout")&&("A"==localStorage.getItem("layout")?($("#homepage #additionalResources").css("display","none"),$("#homepage #additionalDownloads, #resources").css("display","block"),$("#layoutChoice option").eq(0).prop("selected",!0)):($("#homepage #additionalDownloads, #resources").css("display","none"),$("#homepage #additionalResources").css("display","block"),$("#layoutChoice option").eq(1).prop("selected",!0))),null!=localStorage.getItem("css")&&$("#sheet1").attr("href",localStorage.getItem("css")),null!=localStorage.getItem("title")){var y=localStorage.getItem("title");$(".siteTitle").text(y),$("#changeTitle").val(y)}else $("#changeTitle").val("Productivity and Collaboration");$(".reset").on("click",function(){localStorage.clear(),window.location.reload()}),o(),$(".pull").on("click",function(){t()}),$(".icon-close").on("click",function(){"#changeTitle".length>0&&$("#changeTitle").attr("value","")});var b=function(e){var o=[{id:"1",name:"article",url:"http://productdevelopment.techtarget.com/projects/custom/prototypes/sales-tools/article"},{id:"2",name:"embeddedCenter",url:"http://productdevelopment.techtarget.com/projects/custom/prototypes/sales-tools/embedded/Center"},{id:"3",name:"embeddedDark",url:"http://productdevelopment.techtarget.com/projects/custom/prototypes/sales-tools/embedded/Dark"},{id:"4",name:"embeddedLight",url:"http://productdevelopment.techtarget.com/projects/custom/prototypes/sales-tools/embedded/Light"},{id:"5",name:"nativeAd",url:"http://productdevelopment.techtarget.com/projects/custom/prototypes/sales-tools/native/"}],t=$(o).length,a=$(".demo-site-nav-list-item.selected").attr("data-id");for(i=0;t>i;i++){var n=o[i];n.id===a&&n.id!=e&&window.open(o[i].url,"_self",!1)}},k=function(){$(".demo-site-nav-list li").hasClass("selected")&&($(".demo-site-nav-list-item").hide(),$(".demo-site-nav-list-item.selected").show())},M=function(){$(".demo-site-nav-list-item").show(),$(".demo-site-nav").removeClass("hideNav").addClass("show"),$(".demo-site-nav .icon").removeClass("icon-arrow-down").addClass("icon-arrow-up")},x=function(){k(),$(".demo-site-nav").removeClass("show").addClass("hideNav"),$(".demo-site-nav .icon").removeClass("icon-arrow-up").addClass("icon-arrow-down")},S=function(){$(".demo-site-nav-list-item.selected, .demo-site-nav .icon").on("mousedown",function(){$(".demo-site-nav").hasClass("hideNav")?M():x()})},T=function(){$(".demo-site-nav-list-item:not(.selected)").on("mousedown",function(){var e=$(".demo-site-nav-list-item.selected").attr("data-id");$(".demo-site-nav-list-item").removeClass("selected"),$(this).addClass("selected"),b(e),$(".demo-site-nav").removeClass("show").addClass("hideNav"),$(".demo-site-nav .icon").removeClass("icon-arrow-up").addClass("icon-arrow-down"),k()})};k(),T(),S();var _=function(){var e=[{id:"1",src:"images/hero/hero_images_01.jpg"},{id:"2",src:"images/hero/hero_images_02.jpg"},{id:"3",src:"images/hero/hero_images_03.jpg"},{id:"4",src:"images/hero/hero_images_04.jpg"},{id:"5",src:"images/hero/hero_images_05.jpg"},{id:"6",src:"images/hero/hero_images_06.jpg"},{id:"7",src:"images/hero/hero_images_07.jpg"},{id:"8",src:"images/hero/hero_images_08.jpg"},{id:"9",src:"images/hero/hero_images_09.jpg"},{id:"10",src:"images/hero/hero_images_10.jpg"},{id:"11",src:"images/hero/hero_images_11.jpg"},{id:"12",src:"images/hero/hero_images_12.jpg"}];$("#heroImageChoice").change(function(){var o=$("#heroImageChoice option:selected").val(),t=e.length;for(i=0;t>i;i++)e[i].id===o&&$(".heroPrimary").css("background-image","url("+e[i].src+")")});var o=function(){$(".heroPrimary").css("background-image","url("+e[11].src+")")};o()};_();var j=function(){var e=$(".demo-site-nav-list-item.selected").text(),o=$("#clientChoice option:selected").text(),t=$("#layoutChoice option:selected").text(),i=$(".colorText1").text(),a=$(".colorText2").text(),n="mailto:?body=Site Type: "+e+"%0D%0ANumber of Clients: "+o+"%0D%0ALayout: "+t+"%0D%0AColor Text 1: "+i+"%0D%0AColor Text 2: "+a;$(".demo-footer-button.demo-button-email").attr("href",n)};j();var I={requestUrl:"http://api.bit.ly/v3/shorten",login:"uxtechtarget",key:"R_3711c9f9013670f25d70b047c8deb6f2"},L=function(e){return $.Deferred(function(o){$.ajax({url:I.requestUrl,contentType:"application/x-www-form-urlencoded",dataType:"jsonp",data:{login:I.login,apiKey:I.key,longUrl:e}}).done(function(e){if("OK"===e.status_txt){var t=e.data.url;o.resolve(t)}else o.resolve("")}).fail(function(){o.resolve("")})}).promise()},N=$(".socialMedia-facebook"),B=$(".socialMedia-twitter"),A=$(".socialMedia-linkedin");if(N.length+B.length+A.length!=0){var O=$('link[rel="canonical"]').attr("href")||window.location.href,R=$("a",N),D=$("a",B),H=$("a",A),P=R.add(D).add(H);P.one("click",function(e){e.preventDefault(),P.off("click");var o=$(this),t=a();L(O).done(function(e){var o=encodeURIComponent(e||O),t=encodeURIComponent($(".main-article-title").text()||document.title);R.attr("href","http://www.facebook.com/share.php?u="+o+"&t="+t),D.attr("href","https://twitter.com/intent/tweet?text="+t+"&url="+o+(B.attr("data-account")?"&via="+encodeURIComponent(B.attr("data-account")):"")+(B.attr("data-related")?"&related="+encodeURIComponent(B.attr("data-related")):"")),H.attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+o+"&title="+t),P.on("click",n)}).then(function(){var e=o.attr("href");t.location=e})});var W=$("li.contentTools-email a");if(W.length){var q="http://api.addthis.com/oexchange/0.8/forward/email/offer?",U=$(".main-article-title").text()||document.title,K={pubid:"uxtechtarget",url:window.location.href,title:U},E=q+$.param(K);W.attr("href",E).on("click",n),$(".hamburger").addClass("hamburger--elastic"),"ontouchstart"in document.documentElement||(document.documentElement.className+="no-touch"),"undefined"==typeof window.getComputedStyle(document.body).backgroundBlendMode&&$(".heroPrimary").addClass("no-background-blend-mode"),$("#videoModal p.closeButton").remove(),$("#videoModalPlayerContainer").append('<a class="closeButton">&times;</a>'),$("#videoModal").on("click",s);var V,z=$(".hamburger"),F=$("body"),G=$(".topicsButton"),J=$(".socialButton"),Q=$("#articleNavigation ul#articleResourcesNav > li:first-child"),X=function(){var e=$("#articleNavigationCompress").width(),o=$("#articleResourcesNav").outerWidth(!0),t=e-o,i=0;$("#articleMainNav > li").each(function(){i+=$(this).outerWidth(!0)}),i>t?$("#articleNavigation").addClass("collapseMain").css("visibility",""):$("#articleNavigation").css("visibility","visible")},Y=0,Z=5,eo=$("#articleSponsorContainer").outerHeight();$(window).scroll(function(){V=!0}),setInterval(function(){V&&$(window).width()<960&&(u(),V=!1)},250),$(document).click(function(e){"topicsButton"==e.target.id||$(e.target).is(".icon-menu")||($("#articleNavigation").removeClass("showMainNav"),$("#articleMainNav > li > ul").css("display",""),$("a.maintainHover").removeClass("maintainHover"))});var oo=($(".latest-wrapper"),$(window)),to=($("#micrositeWrapper"),.8*$("#article").height());$overlay=$("#overlay"),overlayCloseBtn=$("#overlay a");var io=function(){$overlay.animate({bottom:0},1500)};overlayCloseBtn.on("click",function(){$overlay.remove()}),$(window).on("scroll",function(){(oo.scrollTop()+oo.height()>=to||oo.scrollTop()>=850)&&io()});var ao=function(){$("#articleRight").appendTo("#articleContainer").fadeIn("slow")};$("footer .footerRight .footerLinks li:last-child p").text("© 2016 TechTarget"),X(),p(),ao(),f(),w(),C(),z.on("tapone",l),J.on("tapone",r),G.on("click",c),Q.on("click",d),$("#topicBodyContainer .loadMore").on("click",m),$("#articleListContainer .loadMore").each(function(){$(this).on("click",g)}),$("#downloadListContainer .loadMore").each(function(){$(this).on("click",v)}),window.location.href.indexOf("document")>-1&&$("#articleNavigationContainer").remove(),$("a[href*='/document/']").attr("target","_blank"),$(window).on("resize",function(){o(),X(),p(),h(),f(),w(),C()})}}});